# ESQUEMA DE CADA EMPRESA
      
      
# Almacenes
AgtAlmacenes:
  comment: Almacenes
  columns:   
    Nombre:             { type: string(50), notnull: true, index: index }
    Direccion:          { type: string(50), notnull: true }
    IdPais:             { type: bigint(11), notnull: true, default: 68, index: index, comment: 'emp,Paises,Id' }
    IdProvincia:        { type: bigint(11), notnull: true, default: 0, index: index, comment: 'emp,Provincias,Id' }
    IdPoblacion:        { type: bigint(11), notnull: true, default: 0, index: index, comment: 'emp,Municipios,Id' }
    CodigoPostal:       { type: string(10), notnull: true, default: 0 }
    Telefono:           { type: string(30), notnull: false }
    Fax:                { type: string(30), notnull: false }    
    EMail:              { type: string(50), notnull: false }
    Tipo:               { type: tinyint(1), notnull: true, default: 0, index: index, comment: 'abstract,AlmacenesTipos,IDTipo' }
    ControlUbicaciones: { type: tinyint(1), notnull: true, default: 0, index: index, comment: 'abstract,ValoresSN,IDTipo' }    
    <?php include '../../entities/schema/schemaColumnsCommon.yml'; echoln('');?>    
  relations:
      
# Agencias de transporte
AgtAgencias:
  comment: Agencias de transporte
  columns:   
    Agencia:       { type: string(50), notnull: false, default: NULL }
    Telefono:      { type: string(30), default: NULL }
    Fax:           { type: string(30), default: NULL }
    Web:           { type: string(50), default: NULL }    
    EMail:         { type: string(50), default: NULL }
    CosteEstandar: { type: decimal, notnull: true, default: '0.00' }
    UrlTracking:   { type: varchar(100), default: NULL }
    <?php include '../../entities/schema/schemaColumnsCommon.yml'; echoln('');?>      
  relations:

# Formas de pago
AgtFormasPago:
  comment: Formas de pago
  columns:
    Descripcion:         { type: string(50), notnull: true }
    NumeroVctos:         { type: int(4), notnull: true, default: 1 }
    DiaPrimerVcto:       { type: int(4), notnull: true, default: 0 } 
    DiasIntervalo:       { type: int(4), notnull: true, default: 0 } 
    CContable:           { type: string(10), notnull: true, default: '0000000000' } 
    AnotarEnCaja:        { type: boolean, notnull: true, default: 0, index: index, comment: 'Abstract,ValoresSN,IDTipo' }
    RecargoFinanciero:   { type: decimal(5), notnull: true, default: '0.00' }
    DescuentoFinanciero: { type: decimal(5), notnull: true, default: '0.00' }
    <?php include '../../entities/schema/schemaColumnsCommon.yml'; echoln('');?>     
  relations: 
      
# Bandeja de salida de correos
AgtEmailBox:
  comment: Registo de envíos por email
  columns:
    Ip:        { type: string(20), notnull: true }
    De:        { type: string(100), notnull: true, index: index }
    Para:      { type: text, notnull: true }
    CC:        { type: text, notnull: true, default: '' }
    CCO:       { type: text, notnull: true, default: '' }
    Asunto:    { type: string(100), notnull: true, default: '' }
    Mensaje:   { type: text, notnull: true, defautl: '' }
    Adjuntos:  { type: text, notnull: true, default: '' }
    Ok:        { type: boolean, notnull: true, default: 0}
    Smtp:      { type: text, default: NULL }
    <?php include '../../entities/schema/schemaColumnsCommon.yml'; echoln('');?>
    
# Articulos
AgtArticulos:
  comment: Artículos
  columns:
    IDArticulo:        { type: bigint(11), notnull: true, index: PRIMARY, autoIncrement: true}    
    Codigo:            { type: string(25), notnull: true, index: unique}
    Descripcion:       { type: string(255), notnull: true, index: index }
    Subtitulo:         { type: string(255), notnull: false, index: index }
    Resumen:           { type: string(500), notnull: false, index: index }
    ReclamoCorto:      { type: string(255), notnull: false, index: index }
    ReclamoLargo:      { type: string(500), notnull: false, index: index }      
    IDCategoria:       { type: bigint(11), notnull: true, default: 0, index: index, comment: 'datos,Familias,IDFamilia' }
    IDFamilia:         { type: bigint(11), notnull: true, default: 0, index: index, comment: 'datos,Familias,IDFamilia' }
    IDSubfamilia:      { type: bigint(11), notnull: true, default: 0, index: index, comment: 'datos,Familias,IDFamilia' }
    IDFabricante:      { type: bigint(11), notnull: true, default: 0, index: index, comment: 'datos,Fabricantes,IDFabricante' }
    Pvd:               { type: decimal(3), notnull: true, default: 0}
    Pvp:               { type: decimal(3), notnull: true, default: 0}
    Margen:            { type: decimal(3), notnull: true, default: 0}
    Pmc:               { type: decimal(3), notnull: true, default: 0}
    IDIva:             { type: bigint(11), notnull: true, default: 0, index: index, comment: 'datos,TiposIva,IDIva'}    
    PvpAnterior:       { type: decimal(3), notnull: true, default: 0}
    Etiqueta:          { type: string(30), notnull: false, default: NULL, index: index }
    CodigoEAN:         { type: string(13), notnull: false, defatul: NULL }
    Caducidad:         { type: integer(4), notnull: true, default: 0 }
    Garantia:          { type: string(10), notnull: true, default: NULL }
    Peso:              { type: decimal(), notnull: true, default: 0 }
    Volumen:           { type: decimal(), notnull: true, default: 0 }
    Caracteristicas:   { type: text, notnull: false }
    FechaUltimoPrecio: { type: datetime, notnull: false, default: NULL }
    Vigente:           { type: tinyint(1), notnull: true, default: 1, index: index, comment: 'abstract,ValoresSN,IDTipo' }
    Inventario:        { type: tinyint(1), notnull: true, default: 1, index: index, comment: 'abstract,ValoresSN,IDTipo' }
    Trazabilidad:      { type: tinyint(1), notnull: true, default: 0, index: index, comment: 'abstract,ValoresSN,IDTipo' }    
    BajoPedido:        { type: tinyint(1), notnull: true, default: 0, index: index, comment: 'abstract,ValoresSN,IDTipo' }
    PackingCompras:    { type: decimal(), notnull: true, default: 1 }
    PackingVentas:     { type: decimal(), notnull: true, default: 1 } 
    Merma:             { type: decimal(), notnull: true, default: 0 } 
    BloqueoStock:      { type: tinyint(1), notnull: true, default: 0, index: index, comment: 'abstract,ValoresSN,IDTipo' } 
    IDEstado1:         { type: bigint(11), notnull: true, default: 0, index: index, comment: 'datos,ArticulosEstados,IDEstado' }
    IDEstado2:         { type: bigint(11), notnull: true, default: 0, index: index, comment: 'datos,ArticulosEstados,IDEstado' }
    IDEstado3:         { type: bigint(11), notnull: true, default: 0, index: index, comment: 'datos,ArticulosEstados,IDEstado' }
    IDEstado4:         { type: bigint(11), notnull: true, default: 0, index: index, comment: 'datos,ArticulosEstados,IDEstado' }
    IDEstado5:         { type: bigint(11), notnull: true, default: 0, index: index, comment: 'datos,ArticulosEstados,IDEstado' }
    StockMinimo:       { type: decimal(), notnull: true, default: 0 } 
    StockMaximo:       { type: decimal(), notnull: true, default: 0 }
    MinimoVentaAlto:   { type: decimal(), notnull: true, default: 0 }
    MinimoVentaAncho:  { type: decimal(), notnull: true, default: 0 }    
    MinimoVenta:       { type: decimal(), notnull: true, default: 0 } 
    MultiploAlto:      { type: decimal(), notnull: true, default: 0 }  
    MultiploAncho:     { type: decimal(), notnull: true, default: 0 } 
    RecargoEnergetico: { type: tinyint(1), notnull: true, default: 0, index: index, comment: 'abstract,ValoresSN,IDTipo' }     
    UMB:               { type: bigint(11), notnull: true, default: 0, index: index, comment: 'datos,UnidadesMedida,Id' }
    UMC:               { type: bigint(11), notnull: true, default: 0, index: index, comment: 'datos,UnidadesMedida,Id' }
    CUMC:              { type: decimal(), notnull: true, default: 1 }
    UMA:               { type: bigint(11), notnull: true, default: 0, index: index, comment: 'datos,UnidadesMedida,Id' }    
    CUMA:              { type: decimal(), notnull: true, default: 1 }  
    UMV:               { type: bigint(11), notnull: true, default: 0, index: index, comment: 'datos,UnidadesMedida,Id' }    
    CUMV:              { type: decimal(), notnull: true, default: 1 } 
    AvisosPedidos:     { type: text, notnull: false }    
    AvisosPresupuestos: { type: text, notnull: false }    
    AvisosAlbaranes:   { type: text, notnull: false }    
    <?php include '../../entities/schema/schemaColumnsCommon.yml'; echoln('');?>    
  relations:

# Clientes
AgtClientes:
  comment: Clientes
  columns:   
    RazonSocial:         { type: varchar(50), notnull: true, index: index }
    NombreComercial:     { type: varchar(50), notnull: false, index: index }
    Cif:                 { type: varchar(15), notnull: true, index: index }
    Direccion:           { type: varchar(50), notnull: true }
    IdPais:              { type: bigint(11), notnull: true, default: 68, index: index, comment: 'emp,Paises,Id' }
    IdProvincia:         { type: bigint(11), notnull: true, default: 0, index: index, comment: 'emp,Provincias,Id' }
    IdPoblacion:         { type: bigint(11), notnull: true, default: 0, index: index, comment: 'emp,Municipios,Id' }
    CodigoPostal:        { type: varchar(10), notnull: true, default: '' }
    ApdoCorreos:         { type: varchar(10), notnull: true, default: '' }
    Telefono:            { type: varchar(30), notnull: false }
    Fax:                 { type: varchar(30), notnull: false }    
    Movil:               { type: varchar(30), notnull: false }    
    EMail:               { type: varchar(50), notnull: false }    
    Web:                 { type: varchar(50), notnull: false }    
    CContable:           { type: varchar(10), notnull: false, default: '0000000000' } 
    IdRuta:              { type: bigint(11), notnull: true, default: 0, index: index, comment: 'datos,Rutas,Id' }    
    IdActividad:         { type: bigint(11), notnull: true, default: 0, index: index, comment: 'datos,Actividades,Id' }    
    IdGrupoCompras:      { type: bigint(11), notnull: true, default: 0, index: index, comment: 'datos,GruposCompras,Id' }    
    IdFormaPago:         { type: bigint(11), notnull: true, default: 0, index: index, comment: 'datos,FormasPago,Id' }    
    DiaDePago:           { type: int(2), notnull: true, defatul: 0 }
    Iva:                 { type: boolean, notnull: true, default: 0, index: index, comment: 'datos,ValoresSN,IDTipo' }
    RecargoEqu:          { type: boolean, notnull: true, default: 0, index: index, comment: 'datos,ValoresSN,IDTipo' }
    Avisos:              { type: text, notnull: false, default: NULL }
    Vigente:             { type: boolean, notnull: true, default: 0, index: index, comment: 'datos,ValoresSN,IDTipo' }
    Sexo:                { type: tinyint(1), notnull: true, default: 1, index: index, comment: 'Abstract,Sexos,IDTipo' }
    Tratamiento:         { type: tinyint(1), notnull: true, default: 1, index: index, comment: 'Abstract,Tratamientos,IDTipo' }
    FechaNacimiento:     { type: date, notnull: true, default: '0000-00-00' }
    Login:               { type: varchar(50), default: NULL, index: index }
    Password:            { type: varchar(50), default: NULL } 
    Catalogos:           { type: bigint(11), default: null }
    Banco:               { type: varchar(60), default: null }
    DireccionBanco:      { type: varchar(60), default: null }
    Iban:                { type: varchar(34), default: null }
    Bic:                 { type: varchar(11), default: null }
    Mandato:             { type: varchar(35), default: null }
    FechaMandato:        { type: date, notnull: true, default: '0000-00-00' }     
    <?php include '../../entities/schema/schemaColumnsCommon.yml'; echoln('');?>     
  relations:     
  
# Clientes Contactos
AgtClientesContactos:
  comment: Contactos de clientes
  columns:   
    IdCliente:  { type: bigint(11), notnull: true, index: index, comment: 'datos,Clientes,Id' }
    Cargo:      { type: varchar(30), notnull: false }
    Nombre:     { type: varchar(50), notnull: true }
    Telefono:   { type: varchar(50), notnull: false }
    Fax:        { type: varchar(50), notnull: false }    
    Movil:      { type: varchar(50), notnull: false }    
    EMail:      { type: varchar(50), notnull: false }    
    <?php include '../../entities/schema/schemaColumnsCommon.yml'; echoln('');?>     
  relations:    
    
# Direcciones de entrega de clientes
AgtClientesDentrega:
  comment: Direcciones de entrega de clientes
  columns:   
    IdCliente:                { type: bigint(11), notnull: true, index: index, comment: 'datos,Clientes,Id' }
    Nombre:                   { type: varchar(50), notnull: true }    
    Direccion:                { type: varchar(50), notnull: true }
    IdPais:                   { type: bigint(11), notnull: true, default: 0, index: index, comment: 'datos,Paises,Id' }
    IdProvincia:              { type: bigint(11), notnull: true, default: 0, index: index, comment: 'datos,Provincias,Id' }
    IdPoblacion:              { type: bigint(11), notnull: true, default: 0, index: index, comment: 'datos,Municipios,Id' }
    CodigoPostal:             { type: varchar(10), notnull: true, default: '' }
    Telefono:                 { type: varchar(30), notnull: false }
    Fax:                      { type: varchar(30), notnull: false }    
    Movil:                    { type: varchar(30), notnull: false }    
    EMail:                    { type: varchar(50), notnull: false }    
    PersonaContacto:          { type: varchar(50), notnull: false }
    EnviarCopiaFactura:       { type: boolean, notnull: true, default: 1, index: index, comment: 'datos,ValoresSN,IDTipo' }    
    FacturacionIndependiente: { type: boolean, notnull: true, default: 0, index: index, comment: 'datos,ValoresSN,IDTipo' }    
    AgenciaHabitual:          { type: varchar(50), notnull: false }
    Horario:                  { type: varchar(50), notnull: false }    
    HorarioLlamadas:          { type: varchar(50), notnull: false }    
    Vigente:                  { type: tinyint(1), notnull: true, default: 1, index: index, comment: 'Abstract,ValoresSN,IDTipo' }    
    <?php include '../../entities/schema/schemaColumnsCommon.yml'; echoln('');?>     
  relations:   
    
# Grupos de Compras
AgtGruposCompras:
  comment: Grupos de Compras
  columns:   
    Descripcion:   { type: varchar(100), notnull: true }
    <?php include '../../entities/schema/schemaColumnsCommon.yml'; echoln('');?>     
  relations:
    
# Tipos de Actividades
AgtActividades:
  comment: Tipos de actividades
  columns:    
    Descripcion:   { type: varchar(100), notnull: true }
    <?php include '../../entities/schema/schemaColumnsCommon.yml'; echoln('');?>     
  relations:  

# Rutas
AgtRutas:
  comment: Rutas comerciales
  columns:   
    Descripcion:    { type: varchar(50), notnull: true, default: ''}
    <?php include '../../entities/schema/schemaColumnsCommon.yml'; echoln('');?>      
  relations: 
      
# Firmas Representadas
AgtFirmas:
  comment: Firmas
  columns:    
    RazonSocial:         { type: varchar(50), notnull: true, index: index }
    NombreComercial:     { type: varchar(50), notnull: false, index: index }
    Cif:                 { type: varchar(15), notnull: true, index: index }
    Direccion:           { type: varchar(50), notnull: true }
    IDPais:              { type: bigint(11), notnull: true, default: 68, index: index, comment: 'datos,Paises,Id' }
    IDProvincia:         { type: bigint(11), notnull: true, default: 0, index: index, comment: 'datos,Provincias,Id' }
    IDPoblacion:         { type: bigint(11), notnull: true, default: 0, index: index, comment: 'datos,Municipios,Id' }
    CodigoPostal:        { type: varchar(10), default: null }
    ApdoCorreos:         { type: varchar(10), default: null }
    Telefono:            { type: varchar(30), notnull: false }
    Fax:                 { type: varchar(30), notnull: false }    
    Movil:               { type: varchar(30), notnull: false }    
    EMail:               { type: varchar(50), notnull: false }    
    Web:                 { type: varchar(50), notnull: false } 
    Gerente:             { type: varchar(100), default: null }
    DirectorComercial:   { type: varchar(100), default: null }
    EmailGerente:        { type: varchar(100), default: null }
    EmailPedidos:        { type: varchar(100), default: null }
    EmailSoporteTecnico: { type: varchar(100), default: null }
    CContable:           { type: varchar(10), notnull: false, default: '0000000000' } 
    Banco:               { type: varchar(50), default: null }
    DireccionBanco:      { type: varchar(50), default: null }        
    Iban:                { type: varchar(34), notnull: false, default: null }
    Bic:                 { type: varchar(11), notnull: false, default: null }
    Mandato:             { type: varchar(35), notnull: false, default: null }
    FechaMandato:        { type: date, notnull: true, default: '0000-00-00' }
    PlazoEntrega:        { type: int(4), default: null }
    IdAgencia:           { type: bigint(11), deafult: 0, index: index, comment: 'datos,Agencias,Id' }
    SinPortes:           { type: decimal, default: 0 }
    Vigente:             { type: boolean, notnull: true, default: 1, index: index, comment: 'datos,ValoresSN,IDTipo' }    
    <?php include '../../entities/schema/schemaColumnsCommon.yml'; echoln('');?>    
  relations:
      
# RELACIONES N A M ENTRE ENTIDADES
AgtRelaciones:
  comment: Relaciones entre entidades
  columns:
    EntidadOrigen: { type: string(50), notnull: true, index: index }
    IdEntidadOrigen: { type: string(50), notnull: true, default: 0 }
    EntidadDestino: { type: string(50), notnull: true, index: index }
    IdEntidadDestino: { type: string(50), notnull: true, default: 0 }
    <?php include '../../entities/schema/schemaColumnsCommon.yml'; echoln('');?>
  relations:

# Contadores
AgtContadores:
  comment: Contadores de facturas, etc
  columns:  
    IdTipo:      { type: tinyint(1), notnull: true, default: 0, index: index, comment: 'abstract,TiposContadores,IDTipo' }
    Serie:       { type: char(2), notnull: true }
    Contador:    { type: int(8), notnull: true, default: 0 }
    Predefinido: { type: tinyint(1), notnull: true, default: 0, index: index, comment: 'abstract,ValoresSN,IDTipo' }
    <?php include '../../entities/schema/schemaColumnsCommon.yml'; echoln('');?>     
  relations:
  index:
    Contador: { type: unique, columns: 'IDTipo,Serie'}
