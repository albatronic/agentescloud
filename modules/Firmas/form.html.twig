{#
  Module: Firmas
  Document : modules\Firmas\fields.html.twig

  copyright: ALBATRONIC
  date 14.06.2015 19:52:10
#}

<div class="row">
    <div class="col-md-12">
        <input name="solapaActiva" id="solapaActiva" value="{{ values.solapaActiva }}" type="hidden" />    
        <ul class="nav nav-tabs">
            <li class="active"><a href="#general" data-toggle="tab">{%if datos.RazonSocial%}<b>{{macro.recortaTexto(datos.RazonSocial,40)}}</b>{%else%}Firma{%endif%}</a></li>            
            <li><a href="#tabs-1" data-toggle="tab">Facturación</a></li>
            {% if datos.PrimaryKeyValue %}
            <li><a href="#tabs-5" onclick="cargaFamilias('tabs-5');" data-toggle="tab">Familias</a></li>                
            <li><a href="#tabs-2" onclick="cargaContactos('tabs-2');" data-toggle="tab">Contactos</a></li>                
            <li><a href="#tabs-3" onclick="cargaCondicionesComerciales('tabs-3');" data-toggle="tab">Condiciones Comerciales</a></li>  
            <li><a href="#tabs-4" onclick="cargaGraficoVentas('{{datos.Id}}', '0', 'divVentasFirma');cargaGraficoVentasPorClientes('{{datos.Id}}', 0, 'divVentasPorClientes');" data-toggle="tab">Gráfico</a></li>              
            {% endif %}
        </ul>

        <div class="tab-content">    

            <div class="tab-pane active" id="general">
                <div class="col-md-6">
                    {{ macro.input(values.atributos.RazonSocial,'Etiqueta','text',values.controller ~ '[RazonSocial]',values.controller ~ '_RazonSocial',datos.RazonSocial,'50','CampoTextoLargo','1') }}
                    {{ macro.input(values.atributos.NombreComercial,'Etiqueta','text',values.controller ~ '[NombreComercial]',values.controller ~ '_NombreComercial',datos.NombreComercial,'50','CampoTextoLargo','2') }}
                    {{ macro.input(values.atributos.Cif,'Etiqueta','text',values.controller ~ '[Cif]',values.controller ~ '_Cif',datos.Cif,'15','CampoTextoCorto','3') }}
                    {{ macro.input(values.atributos.Direccion,'Etiqueta','text',values.controller ~ '[Direccion]',values.controller ~ '_Direccion',datos.Direccion,'50','CampoTextoLargo','4') }}
                    {{ macro.select(values.atributos.IdPais,'Etiqueta',values.controller ~ '[IdPais]',values.controller ~ '_IdPais',none,datos.IdPais.Id,datos.IdPais.fetchAll('Pais'),'chzn-select','5')}}
                    {{ macro.select(values.atributos.IdProvincia,'Etiqueta',values.controller ~ '[IdProvincia]',values.controller ~ '_IdProvincia',none,datos.IdProvincia.Id,datos.IdProvincia.fetchAll('Provincia'),'chzn-select','6')}}
                    {{ macro.select(values.atributos.IdPoblacion,'Etiqueta',values.controller ~ '[IdPoblacion]',values.controller ~ '_IdPoblacion',none,datos.IdPoblacion.Id,datos.IdPoblacion.fetchAll('Municipio'),'chzn-select','7')}}
                    {{ macro.input(values.atributos.CodigoPostal,'Etiqueta','text',values.controller ~ '[CodigoPostal]',values.controller ~ '_CodigoPostal',datos.CodigoPostal,'10','CampoTextoCorto','8') }}
                    {{ macro.input(values.atributos.ApdoCorreos,'Etiqueta','text',values.controller ~ '[ApdoCorreos]',values.controller ~ '_ApdoCorreos',datos.ApdoCorreos,'10','CampoTextoCorto','9') }}
                    {{ macro.input(values.atributos.Telefono,'Etiqueta','text',values.controller ~ '[Telefono]',values.controller ~ '_Telefono',datos.Telefono,'30','CampoTextoLargo','10') }}
                    {{ macro.input(values.atributos.Fax,'Etiqueta','text',values.controller ~ '[Fax]',values.controller ~ '_Fax',datos.Fax,'30','CampoTextoLargo','11') }}
                    {{ macro.input(values.atributos.Movil,'Etiqueta','text',values.controller ~ '[Movil]',values.controller ~ '_Movil',datos.Movil,'30','CampoTextoLargo','12') }}

                </div>
                <div class="col-md-6">
                    {{ macro.input(values.atributos.Vigente,'Etiqueta','checkbox',values.controller ~ '[Vigente]',values.controller ~ '_Vigente',datos.Vigente.IDTipo,'chzn-select','25')}}     
                    {{ macro.input(values.atributos.EMail,'Etiqueta','text',values.controller ~ '[EMail]',values.controller ~ '_EMail',datos.EMail,'50','CampoTextoLargo','13') }}
                    {{ macro.input(values.atributos.Web,'Etiqueta','text',values.controller ~ '[Web]',values.controller ~ '_Web',datos.Web,'50','CampoTextoLargo','14') }}                    
                    {# macro.input(values.atributos.Gerente,'Etiqueta','text',values.controller ~ '[Gerente]',values.controller ~ '_Gerente',datos.Gerente,'100','CampoTextoLargo','15') #}
                    {# macro.input(values.atributos.DirectorComercial,'Etiqueta','text',values.controller ~ '[DirectorComercial]',values.controller ~ '_DirectorComercial',datos.DirectorComercial,'100','CampoTextoLargo','16') #}
                    {# macro.input(values.atributos.EmailGerente,'Etiqueta','text',values.controller ~ '[EmailGerente]',values.controller ~ '_EmailGerente',datos.EmailGerente,'100','CampoTextoLargo','17') #}
                    {{ macro.input(values.atributos.EmailPedidos,'Etiqueta','text',values.controller ~ '[EmailPedidos]',values.controller ~ '_EmailPedidos',datos.EmailPedidos,'100','CampoTextoLargo','18') }}
                    {# macro.input(values.atributos.EmailSoporteTecnico,'Etiqueta','text',values.controller ~ '[EmailSoporteTecnico]',values.controller ~ '_EmailSoporteTecnico',datos.EmailSoporteTecnico,'100','CampoTextoLargo','19') #}
                    {{ macro.textarea(values.atributos.AvisoPedidos,'Etiqueta',values.controller ~ '[AvisoPedidos]',values.controller ~ '_AvisoPedidos',datos.AvisoPedidos,none,none,'TextArea')}}                    
                    {{ macro.textarea(values.atributos.AvisoFacturas,'Etiqueta',values.controller ~ '[AvisoFacturas]',values.controller ~ '_AvisoFacturas',datos.AvisoFacturas,none,none,'TextArea')}}                    
                </div>
            </div>
            <div class="tab-pane" id="tabs-1">
                <div class="col-md-6">
                    {{ macro.input(values.atributos.PlazoEntrega,'Etiqueta','text',values.controller ~ '[PlazoEntrega]',values.controller ~ '_PlazoEntrega',datos.PlazoEntrega,'4','CampoUnidades','27') }}
                    {{ macro.select(values.atributos.IdAgencia,'Etiqueta',values.controller ~ '[IdAgencia]',values.controller ~ '_IdAgencia',none,datos.IdAgencia.Id,datos.IdAgencia.fetchAll('Agencia'),'chzn-select','28')}}
                    {{ macro.input(values.atributos.SinPortes,'Etiqueta','text',values.controller ~ '[SinPortes]',values.controller ~ '_SinPortes',datos.SinPortes,'10','CampoImporte','29') }}                         
                </div>
                <div class="col-md-6">       
                    {{ macro.input(values.atributos.CContable,'Etiqueta','text',values.controller ~ '[CContable]',values.controller ~ '_CContable',datos.CContable,'10','CampoTextoCorto','20') }}
                    {{ macro.input(values.atributos.Banco,'Etiqueta','text',values.controller ~ '[Banco]',values.controller ~ '_Banco',datos.Banco,'50','CampoTextoLargo','21') }}
                    {{ macro.input(values.atributos.DireccionBanco,'Etiqueta','text',values.controller ~ '[DireccionBanco]',values.controller ~ '_DireccionBanco',datos.DireccionBanco,'50','CampoTextoLargo','22') }}
                    {{ macro.input(values.atributos.Iban,'Etiqueta','text',values.controller ~ '[Iban]',values.controller ~ '_Iban',datos.Iban,'34','CampoTextoLargo','23') }}
                    {{ macro.input(values.atributos.Bic,'Etiqueta','text',values.controller ~ '[Bic]',values.controller ~ '_Bic',datos.Bic,'11','CampoTextoCorto','24') }}
                    {{ macro.input(values.atributos.Mandato,'Etiqueta','text',values.controller ~ '[Mandato]',values.controller ~ '_Mandato',datos.Mandato,'35','CampoTextoLargo','25') }}
                    {{ macro.fecha(values.atributos.FechaMandato,'Etiqueta',values.controller ~ '[FechaMandato]',values.controller ~ '_FechaMandato',datos.FechaMandato,'10','datepicker','26')}}
                </div> 
            </div>
            {% if datos.PrimaryKeyValue %}            
                <div class="tab-pane" id="tabs-5"></div> 
                <div class="tab-pane" id="tabs-2"></div> 
                <div class="tab-pane" id="tabs-3"></div> 
                <div class="tab-pane" id="tabs-4">
                    <div class="col-md-3">
                        <div class="form-group">
                            <select class="form-control" onchange="cargaGraficoVentas('{{datos.Id}}', this.value, 'divVentasFirma');cargaGraficoVentasPorClientes('{{datos.Id}}', this.value, 'divVentasPorClientes');">
                                <option value="0">Todos los años</option>
                                <option value="1">Últimos 12 meses</option>
                            </select>
                        </div>
                    </div>
                    <div class="row margin-bottom-20">
                        <div class="col-md-12" id="divVentasFirma"></div>
                    </div>
                    <div class="row margin-bottom-20">
                        <div class="col-md-12" id="divVentasPorClientes"></div>
                    </div>                                
                </div>                 
            {% endif %}  
        </div>
    </div>
</div>

{{ macro.foco(values.controller ~ '_RazonSocial') }}
